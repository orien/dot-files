set nocompatible
set encoding=utf-8
filetype off

set rtp+=~/.vim/bundle/Vundle.vim/
call vundle#begin()

Plugin 'gmarik/vundle'

Plugin       'rking/ag.vim'
Plugin        'kien/ctrlp.vim'
Plugin    'rizzatti/dash.vim'
Plugin      'sjbach/lusty'
Plugin 'jimenezrick/vimerl'
Plugin       'bling/vim-airline'
Plugin       'tpope/vim-bundler'
Plugin       'tpope/vim-classpath'
Plugin        'guns/vim-clojure-static'
Plugin      'kchmck/vim-coffee-script'
Plugin 'altercation/vim-colors-solarized'
Plugin       'tpope/vim-commentary'
Plugin       'tpope/vim-cucumber'
Plugin 'elixir-lang/vim-elixir'
Plugin       'tpope/vim-endwise'
Plugin       'tpope/vim-fireplace'
Plugin       'tpope/vim-fugitive'
Plugin       'tpope/vim-haml'
Plugin       'tpope/vim-markdown'
Plugin      'rodjek/vim-puppet'
Plugin       'tpope/vim-rails'
Plugin       'tpope/vim-rake'
Plugin       'tpope/vim-rbenv'
Plugin  'thoughtbot/vim-rspec'
Plugin    'vim-ruby/vim-ruby'
Plugin  'derekwyatt/vim-scala'
Plugin    'goldfeld/vim-seek'
Plugin       'tpope/vim-sensible'
Plugin       'tpope/vim-surround'

call vundle#end()

set hidden
set nojoinspaces

" integrate with the mouse
set mouse=a

" setup visuals
syntax on
filetype plugin indent on
set list
set number
set laststatus=2

" searching
set hlsearch
set incsearch
set ignorecase
set smartcase

" airline HUD
let g:airline_powerline_fonts = 0
let g:airline_detect_modified = 1
let g:airline_left_sep = ' '
let g:airline_right_sep = ' '
let g:airline#extensions#tabline#enabled = 1

" bufferline
let g:bufferline_echo=0

" colour scheme
set background=dark
let base16colorspace=256
colorscheme base16-railscasts

" change cursor in insert mode (iterm2)
autocmd InsertEnter * set cul
autocmd InsertLeave * set nocul
let &t_SI = "\<Esc>]50;CursorShape=1\x7"
let &t_EI = "\<Esc>]50;CursorShape=0\x7"

" formating
set ts=2 sts=2 sw=2 expandtab

" Use Z Shell with profile
set shell=zsh\ -l

" ruby
let ruby_no_expensive = 1
let g:ruby_indent_access_modifier_style="outdent"
autocmd FileType ruby let g:rubycomplete_buffer_loading = 1
autocmd FileType ruby let g:rubycomplete_classes_in_global = 1
autocmd FileType ruby let g:rubycomplete_rails = 1

" RSpec.vim mappings
map <Leader>t :call RunCurrentSpecFile()<CR>
map <Leader>s :call RunNearestSpec()<CR>
map <Leader>l :call RunLastSpec()<CR>
map <Leader>a :call RunAllSpecs()<CR>
let g:rspec_command = "!rspec -fd {spec}"
